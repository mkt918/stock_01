(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,4421,e=>{"use strict";let t,r,n;var a=e.i(71645);let i=e=>{let t,r=new Set,n=(e,n)=>{let a="function"==typeof e?e(t):e;if(!Object.is(a,t)){let e=t;t=(null!=n?n:"object"!=typeof a||null===a)?a:Object.assign({},t,a),r.forEach(r=>r(t,e))}},a=()=>t,i={setState:n,getState:a,getInitialState:()=>o,subscribe:e=>(r.add(e),()=>r.delete(e))},o=t=e(n,a,i);return i},o=e=>{let t=e?i(e):i,r=e=>(function(e,t=e=>e){let r=a.default.useSyncExternalStore(e.subscribe,a.default.useCallback(()=>t(e.getState()),[e,t]),a.default.useCallback(()=>t(e.getInitialState()),[e,t]));return a.default.useDebugValue(r),r})(t,e);return Object.assign(r,t),r};function s(e,t){let r;try{r=e()}catch(e){return}return{getItem:e=>{var n;let a=e=>null===e?null:JSON.parse(e,null==t?void 0:t.reviver),i=null!=(n=r.getItem(e))?n:null;return i instanceof Promise?i.then(a):a(i)},setItem:(e,n)=>r.setItem(e,JSON.stringify(n,null==t?void 0:t.replacer)),removeItem:e=>r.removeItem(e)}}let l=e=>t=>{try{let r=e(t);if(r instanceof Promise)return r;return{then:e=>l(e)(r),catch(e){return this}}}catch(e){return{then(e){return this},catch:t=>l(t)(e)}}},c=(t?o(t):o)((r=(e,t)=>({cash:1e7,initialCapital:1e7,holdings:[],transactions:[],assetHistory:[],buyStock:(r,n)=>{let{cash:a,holdings:i,transactions:o}=t(),s=r.price*n;if(s>a)return void alert("資金不足です！");let l=i.find(e=>e.code===r.code),c=[...i];if(l){let e=l.quantity+n,t=(l.averagePrice*l.quantity+s)/e;c=c.map(n=>n.code===r.code?{...n,quantity:e,averagePrice:t,currentPrice:r.price}:n)}else c.push({code:r.code,name:r.name,quantity:n,averagePrice:r.price,currentPrice:r.price});let u={id:Math.random().toString(36).substring(7),date:new Date().toISOString(),code:r.code,name:r.name,type:"buy",quantity:n,price:r.price,total:s};e({cash:a-s,holdings:c,transactions:[u,...o]}),t().recordHistory()},sellStock:(r,n)=>{let{cash:a,holdings:i,transactions:o}=t(),s=i.find(e=>e.code===r.code);if(!s||s.quantity<n)return void alert("保有数が不足しています！");let l=r.price*n,c=[...i];c=s.quantity===n?c.filter(e=>e.code!==r.code):c.map(e=>e.code===r.code?{...e,quantity:e.quantity-n,currentPrice:r.price}:e);let u={id:Math.random().toString(36).substring(7),date:new Date().toISOString(),code:r.code,name:r.name,type:"sell",quantity:n,price:r.price,total:l};e({cash:a+l,holdings:c,transactions:[u,...o]}),t().recordHistory()},resetGame:()=>{e({cash:1e7,holdings:[],transactions:[],assetHistory:[]})},recordHistory:()=>{let{cash:r,holdings:n,assetHistory:a}=t(),i=n.reduce((e,t)=>e+t.currentPrice*t.quantity,0);new Date().toISOString().split("T")[0],e({assetHistory:[...a,{date:new Date().toISOString(),totalAssets:r+i,cash:r,stockValue:i}]})}}),n={name:"stock-game-storage",storage:s(()=>localStorage)},(e,t,a)=>{let i,o={storage:s(()=>window.localStorage),partialize:e=>e,version:0,merge:(e,t)=>({...t,...e}),...n},c=!1,u=0,d=new Set,g=new Set,f=o.storage;if(!f)return r((...t)=>{console.warn(`[zustand persist middleware] Unable to update item '${o.name}', the given storage is currently unavailable.`),e(...t)},t,a);let m=()=>{let e=o.partialize({...t()});return f.setItem(o.name,{state:e,version:o.version})},h=a.setState;a.setState=(e,t)=>(h(e,t),m());let p=r((...t)=>(e(...t),m()),t,a);a.getInitialState=()=>p;let v=()=>{var r,n;if(!f)return;let a=++u;c=!1,d.forEach(e=>{var r;return e(null!=(r=t())?r:p)});let s=(null==(n=o.onRehydrateStorage)?void 0:n.call(o,null!=(r=t())?r:p))||void 0;return l(f.getItem.bind(f))(o.name).then(e=>{if(e)if("number"!=typeof e.version||e.version===o.version)return[!1,e.state];else{if(o.migrate){let t=o.migrate(e.state,e.version);return t instanceof Promise?t.then(e=>[!0,e]):[!0,t]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}return[!1,void 0]}).then(r=>{var n;if(a!==u)return;let[s,l]=r;if(e(i=o.merge(l,null!=(n=t())?n:p),!0),s)return m()}).then(()=>{a===u&&(null==s||s(i,void 0),i=t(),c=!0,g.forEach(e=>e(i)))}).catch(e=>{a===u&&(null==s||s(void 0,e))})};return a.persist={setOptions:e=>{o={...o,...e},e.storage&&(f=e.storage)},clearStorage:()=>{null==f||f.removeItem(o.name)},getOptions:()=>o,rehydrate:()=>v(),hasHydrated:()=>c,onHydrate:e=>(d.add(e),()=>{d.delete(e)}),onFinishHydration:e=>(g.add(e),()=>{g.delete(e)})},o.skipHydration||v(),i||p}));e.s(["useGameStore",0,c],4421)},5050,7670,e=>{"use strict";var t=e.i(43476);function r(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=function e(t){var r,n,a="";if("string"==typeof t||"number"==typeof t)a+=t;else if("object"==typeof t)if(Array.isArray(t)){var i=t.length;for(r=0;r<i;r++)t[r]&&(n=e(t[r]))&&(a&&(a+=" "),a+=n)}else for(n in t)t[n]&&(a&&(a+=" "),a+=n);return a}(e))&&(n&&(n+=" "),n+=t);return n}e.s(["clsx",()=>r],7670);var n=e.i(19056);function a(...e){return(0,n.twMerge)(r(e))}function i({className:e,children:r,...n}){return(0,t.jsx)("div",{className:a("bg-white rounded-2xl border border-slate-200 shadow-sm",e),...n,children:r})}function o({className:e,children:r,...n}){return(0,t.jsx)("div",{className:a("p-6 pb-2",e),...n,children:r})}function s({className:e,children:r,...n}){return(0,t.jsx)("h3",{className:a("text-lg font-bold text-slate-900",e),...n,children:r})}function l({className:e,children:r,...n}){return(0,t.jsx)("div",{className:a("p-6 pt-2",e),...n,children:r})}e.s(["Card",()=>i,"CardContent",()=>l,"CardHeader",()=>o,"CardTitle",()=>s],5050)}]);