(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,4421,e=>{"use strict";let t,r,s;var a=e.i(71645);let l=e=>{let t,r=new Set,s=(e,s)=>{let a="function"==typeof e?e(t):e;if(!Object.is(a,t)){let e=t;t=(null!=s?s:"object"!=typeof a||null===a)?a:Object.assign({},t,a),r.forEach(r=>r(t,e))}},a=()=>t,l={setState:s,getState:a,getInitialState:()=>n,subscribe:e=>(r.add(e),()=>r.delete(e))},n=t=e(s,a,l);return l},n=e=>{let t=e?l(e):l,r=e=>(function(e,t=e=>e){let r=a.default.useSyncExternalStore(e.subscribe,a.default.useCallback(()=>t(e.getState()),[e,t]),a.default.useCallback(()=>t(e.getInitialState()),[e,t]));return a.default.useDebugValue(r),r})(t,e);return Object.assign(r,t),r};function i(e,t){let r;try{r=e()}catch(e){return}return{getItem:e=>{var s;let a=e=>null===e?null:JSON.parse(e,null==t?void 0:t.reviver),l=null!=(s=r.getItem(e))?s:null;return l instanceof Promise?l.then(a):a(l)},setItem:(e,s)=>r.setItem(e,JSON.stringify(s,null==t?void 0:t.replacer)),removeItem:e=>r.removeItem(e)}}let c=e=>t=>{try{let r=e(t);if(r instanceof Promise)return r;return{then:e=>c(e)(r),catch(e){return this}}}catch(e){return{then(e){return this},catch:t=>c(t)(e)}}},d=(t?n(t):n)((r=(e,t)=>({cash:1e7,initialCapital:1e7,holdings:[],transactions:[],assetHistory:[],buyStock:(r,s)=>{let{cash:a,holdings:l,transactions:n}=t(),i=r.price*s;if(i>a)return void alert("資金不足です！");let c=l.find(e=>e.code===r.code),d=[...l];if(c){let e=c.quantity+s,t=(c.averagePrice*c.quantity+i)/e;d=d.map(s=>s.code===r.code?{...s,quantity:e,averagePrice:t,currentPrice:r.price}:s)}else d.push({code:r.code,name:r.name,quantity:s,averagePrice:r.price,currentPrice:r.price});let o={id:Math.random().toString(36).substring(7),date:new Date().toISOString(),code:r.code,name:r.name,type:"buy",quantity:s,price:r.price,total:i};e({cash:a-i,holdings:d,transactions:[o,...n]}),t().recordHistory()},sellStock:(r,s)=>{let{cash:a,holdings:l,transactions:n}=t(),i=l.find(e=>e.code===r.code);if(!i||i.quantity<s)return void alert("保有数が不足しています！");let c=r.price*s,d=[...l];d=i.quantity===s?d.filter(e=>e.code!==r.code):d.map(e=>e.code===r.code?{...e,quantity:e.quantity-s,currentPrice:r.price}:e);let o={id:Math.random().toString(36).substring(7),date:new Date().toISOString(),code:r.code,name:r.name,type:"sell",quantity:s,price:r.price,total:c};e({cash:a+c,holdings:d,transactions:[o,...n]}),t().recordHistory()},resetGame:()=>{e({cash:1e7,holdings:[],transactions:[],assetHistory:[]})},recordHistory:()=>{let{cash:r,holdings:s,assetHistory:a}=t(),l=s.reduce((e,t)=>e+t.currentPrice*t.quantity,0);new Date().toISOString().split("T")[0],e({assetHistory:[...a,{date:new Date().toISOString(),totalAssets:r+l,cash:r,stockValue:l}]})}}),s={name:"stock-game-storage",storage:i(()=>localStorage)},(e,t,a)=>{let l,n={storage:i(()=>window.localStorage),partialize:e=>e,version:0,merge:(e,t)=>({...t,...e}),...s},d=!1,o=0,h=new Set,u=new Set,m=n.storage;if(!m)return r((...t)=>{console.warn(`[zustand persist middleware] Unable to update item '${n.name}', the given storage is currently unavailable.`),e(...t)},t,a);let x=()=>{let e=n.partialize({...t()});return m.setItem(n.name,{state:e,version:n.version})},g=a.setState;a.setState=(e,t)=>(g(e,t),x());let p=r((...t)=>(e(...t),x()),t,a);a.getInitialState=()=>p;let b=()=>{var r,s;if(!m)return;let a=++o;d=!1,h.forEach(e=>{var r;return e(null!=(r=t())?r:p)});let i=(null==(s=n.onRehydrateStorage)?void 0:s.call(n,null!=(r=t())?r:p))||void 0;return c(m.getItem.bind(m))(n.name).then(e=>{if(e)if("number"!=typeof e.version||e.version===n.version)return[!1,e.state];else{if(n.migrate){let t=n.migrate(e.state,e.version);return t instanceof Promise?t.then(e=>[!0,e]):[!0,t]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}return[!1,void 0]}).then(r=>{var s;if(a!==o)return;let[i,c]=r;if(e(l=n.merge(c,null!=(s=t())?s:p),!0),i)return x()}).then(()=>{a===o&&(null==i||i(l,void 0),l=t(),d=!0,u.forEach(e=>e(l)))}).catch(e=>{a===o&&(null==i||i(void 0,e))})};return a.persist={setOptions:e=>{n={...n,...e},e.storage&&(m=e.storage)},clearStorage:()=>{null==m||m.removeItem(n.name)},getOptions:()=>n,rehydrate:()=>b(),hasHydrated:()=>d,onHydrate:e=>(h.add(e),()=>{h.delete(e)}),onFinishHydration:e=>(u.add(e),()=>{u.delete(e)})},n.skipHydration||b(),l||p}));e.s(["useGameStore",0,d],4421)},5050,7670,e=>{"use strict";var t=e.i(43476);function r(){for(var e,t,r=0,s="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=function e(t){var r,s,a="";if("string"==typeof t||"number"==typeof t)a+=t;else if("object"==typeof t)if(Array.isArray(t)){var l=t.length;for(r=0;r<l;r++)t[r]&&(s=e(t[r]))&&(a&&(a+=" "),a+=s)}else for(s in t)t[s]&&(a&&(a+=" "),a+=s);return a}(e))&&(s&&(s+=" "),s+=t);return s}e.s(["clsx",()=>r],7670);var s=e.i(19056);function a(...e){return(0,s.twMerge)(r(e))}function l({className:e,children:r,...s}){return(0,t.jsx)("div",{className:a("bg-white rounded-2xl border border-slate-200 shadow-sm",e),...s,children:r})}function n({className:e,children:r,...s}){return(0,t.jsx)("div",{className:a("p-6 pb-2",e),...s,children:r})}function i({className:e,children:r,...s}){return(0,t.jsx)("h3",{className:a("text-lg font-bold text-slate-900",e),...s,children:r})}function c({className:e,children:r,...s}){return(0,t.jsx)("div",{className:a("p-6 pt-2",e),...s,children:r})}e.s(["Card",()=>l,"CardContent",()=>c,"CardHeader",()=>n,"CardTitle",()=>i],5050)},84715,e=>{"use strict";var t=e.i(43476),r=e.i(4421),s=e.i(5050);function a(){let{holdings:e,transactions:a,cash:l}=(0,r.useGameStore)(),n=e.reduce((e,t)=>e+t.currentPrice*t.quantity,0),i=e.reduce((e,t)=>e+(t.currentPrice-t.averagePrice)*t.quantity,0);return(0,t.jsxs)("div",{className:"space-y-8",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-slate-900",children:"ポートフォリオ"}),(0,t.jsx)("p",{className:"text-slate-500",children:"保有資産と取引履歴の管理"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,t.jsx)(s.Card,{className:"bg-blue-600 text-white border-none shadow-lg shadow-blue-200",children:(0,t.jsxs)(s.CardContent,{className:"p-6",children:[(0,t.jsx)("p",{className:"text-blue-100 text-sm",children:"株式評価額"}),(0,t.jsxs)("h3",{className:"text-2xl font-bold",children:["¥ ",n.toLocaleString()]})]})}),(0,t.jsx)(s.Card,{className:"bg-white border-slate-100 shadow-sm",children:(0,t.jsxs)(s.CardContent,{className:"p-6",children:[(0,t.jsx)("p",{className:"text-slate-500 text-sm",children:"含み損益"}),(0,t.jsxs)("h3",{className:`text-2xl font-bold ${i>=0?"text-red-500":"text-green-500"}`,children:[i>=0?"+":"",i.toLocaleString()]})]})}),(0,t.jsx)(s.Card,{className:"bg-white border-slate-100 shadow-sm",children:(0,t.jsxs)(s.CardContent,{className:"p-6",children:[(0,t.jsx)("p",{className:"text-slate-500 text-sm",children:"現金余力"}),(0,t.jsxs)("h3",{className:"text-2xl font-bold text-slate-900",children:["¥ ",l.toLocaleString()]})]})})]}),(0,t.jsxs)(s.Card,{className:"bg-white border-slate-100 shadow-sm",children:[(0,t.jsx)(s.CardHeader,{children:(0,t.jsx)(s.CardTitle,{children:"保有銘柄"})}),(0,t.jsx)(s.CardContent,{children:0===e.length?(0,t.jsx)("p",{className:"text-slate-500 text-center py-8 bg-slate-50 rounded-lg",children:"保有している銘柄はありません"}):(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full text-left",children:[(0,t.jsx)("thead",{className:"text-slate-500 border-b border-slate-200",children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"pb-3 pl-2 font-medium",children:"銘柄"}),(0,t.jsx)("th",{className:"pb-3 text-right font-medium",children:"保有数"}),(0,t.jsx)("th",{className:"pb-3 text-right font-medium",children:"平均取得単価"}),(0,t.jsx)("th",{className:"pb-3 text-right font-medium",children:"現在値"}),(0,t.jsx)("th",{className:"pb-3 text-right font-medium",children:"評価損益"}),(0,t.jsx)("th",{className:"pb-3 text-right font-medium",children:"評価額"})]})}),(0,t.jsx)("tbody",{className:"divide-y divide-slate-100",children:e.map(e=>{let r=(e.currentPrice-e.averagePrice)*e.quantity,s=(e.currentPrice-e.averagePrice)/e.averagePrice*100;return(0,t.jsxs)("tr",{className:"group hover:bg-slate-50 transition-colors",children:[(0,t.jsxs)("td",{className:"py-4 pl-2",children:[(0,t.jsx)("div",{className:"font-bold text-slate-700",children:e.name}),(0,t.jsx)("div",{className:"text-xs text-slate-400 font-mono",children:e.code})]}),(0,t.jsxs)("td",{className:"py-4 text-right",children:[e.quantity,"株"]}),(0,t.jsxs)("td",{className:"py-4 text-right",children:["¥",Math.round(e.averagePrice).toLocaleString()]}),(0,t.jsxs)("td",{className:"py-4 text-right font-bold text-slate-700",children:["¥",e.currentPrice.toLocaleString()]}),(0,t.jsxs)("td",{className:`py-4 text-right font-bold ${r>=0?"text-red-500":"text-green-500"}`,children:[r>=0?"+":"",r.toLocaleString()," (",s.toFixed(1),"%)"]}),(0,t.jsxs)("td",{className:"py-4 text-right font-bold text-slate-900",children:["¥",(e.currentPrice*e.quantity).toLocaleString()]})]},e.code)})})]})})})]}),(0,t.jsxs)(s.Card,{className:"bg-white border-slate-100 shadow-sm",children:[(0,t.jsx)(s.CardHeader,{children:(0,t.jsx)(s.CardTitle,{children:"取引履歴"})}),(0,t.jsx)(s.CardContent,{children:0===a.length?(0,t.jsx)("p",{className:"text-slate-500 text-center py-8 bg-slate-50 rounded-lg",children:"取引履歴はありません"}):(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full text-left text-sm",children:[(0,t.jsx)("thead",{className:"text-slate-500 border-b border-slate-200",children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"pb-2 font-medium",children:"日時"}),(0,t.jsx)("th",{className:"pb-2 font-medium",children:"種別"}),(0,t.jsx)("th",{className:"pb-2 font-medium",children:"銘柄"}),(0,t.jsx)("th",{className:"pb-2 text-right font-medium",children:"数量"}),(0,t.jsx)("th",{className:"pb-2 text-right font-medium",children:"単価"}),(0,t.jsx)("th",{className:"pb-2 text-right font-medium",children:"受渡金額"})]})}),(0,t.jsx)("tbody",{className:"divide-y divide-slate-100",children:a.map(e=>(0,t.jsxs)("tr",{className:"hover:bg-slate-50",children:[(0,t.jsx)("td",{className:"py-3 text-slate-500",children:new Date(e.date).toLocaleString()}),(0,t.jsx)("td",{className:"py-3",children:(0,t.jsx)("span",{className:`px-2 py-1 rounded text-xs font-bold ${"buy"===e.type?"bg-blue-50 text-blue-600":"bg-red-50 text-red-600"}`,children:"buy"===e.type?"購入":"売却"})}),(0,t.jsx)("td",{className:"py-3 font-medium text-slate-700",children:e.name}),(0,t.jsx)("td",{className:"py-3 text-right",children:e.quantity}),(0,t.jsxs)("td",{className:"py-3 text-right",children:["¥",e.price.toLocaleString()]}),(0,t.jsxs)("td",{className:"py-3 text-right font-mono text-slate-600",children:["¥",e.total.toLocaleString()]})]},e.id))})]})})})]})]})}e.s(["default",()=>a])}]);